<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- Herencia del template principal de factura para reducir espacios -->
    <template id="report_invoice_document_compact" inherit_id="account.report_invoice_document">
        
        <!-- Agregar clases CSS personalizadas al div principal -->
        <xpath expr="//div[hasclass('page')]" position="attributes">
            <attribute name="class" add="invoice-compact-layout" separator=" "/>
        </xpath>
        
        <!-- Eliminar espacios innecesarios en el header -->
        <xpath expr="//div[hasclass('row')][@name='header-row']" position="attributes">
            <attribute name="style">margin-bottom: 0mm !important; padding-bottom: 0mm !important;</attribute>
        </xpath>
        
        <!-- Reducir espacio antes de la información del cliente -->
        <xpath expr="//div[@id='informations']" position="attributes">
            <attribute name="style">margin-top: 2mm !important; padding-top: 0mm !important;</attribute>
        </xpath>
        
        <!-- Optimizar tabla de líneas de factura -->
        <xpath expr="//table[@name='invoice_line_table']" position="attributes">
            <attribute name="class" add="table-compact" separator=" "/>
        </xpath>
        
    </template>
    
    <!-- Template para facturas de venta -->
    <template id="report_invoice_compact_inherit" inherit_id="account.report_invoice">
        <xpath expr="//t[@t-call='account.report_invoice_document']" position="attributes">
            <attribute name="t-call">odoo_invoice_compact.report_invoice_document_compact</attribute>
        </xpath>
    </template>
    
</odoo>
