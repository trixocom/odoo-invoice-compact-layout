<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- ========================================================================
         SOLUCIÓN DEFINITIVA v1.2.0 - MÚLTIPLES TEMPLATES
         
         Intenta heredar de varios templates comunes de facturas en Odoo 18
         ======================================================================== -->
    
    <!-- Opción 1: Template report_invoice_document -->
    <record id="report_invoice_document_compact" model="ir.ui.view">
        <field name="name">Invoice Compact - Document</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.report_invoice_document"/>
        <field name="priority">999</field>
        <field name="arch" type="xml">
            <xpath expr="//div[hasclass('page')]" position="inside">
                <style type="text/css">
                    /* Reset espaciado */
                    .header { margin: 0mm !important; padding: 0mm !important; }
                    .article { margin-top: 0mm !important; padding-top: 0mm !important; }
                    .page { padding-top: 1mm !important; }
                    .row { margin: 0mm !important; padding: 0mm !important; }
                    
                    /* Bootstrap reset */
                    .m-0, .m-1, .m-2, .m-3, .mt-0, .mt-1, .mt-2, .mt-3,
                    .mb-0, .mb-1, .mb-2, .mb-3, .my-0, .my-1, .my-2, .my-3 {
                        margin-top: 0mm !important; margin-bottom: 0mm !important;
                    }
                    
                    .p-0, .p-1, .p-2, .p-3, .pt-0, .pt-1, .pt-2, .pt-3,
                    .pb-0, .pb-1, .pb-2, .pb-3, .py-0, .py-1, .py-2, .py-3 {
                        padding-top: 0mm !important; padding-bottom: 0mm !important;
                    }
                    
                    /* Elementos */
                    div:empty { display: none !important; }
                    body, div, span, p { line-height: 1.1 !important; }
                    h1, h2, h3, h4, h5, h6, p { margin: 0mm !important; padding: 0mm !important; }
                    
                    /* Tablas */
                    table { margin: 1mm 0mm !important; }
                    table thead th, table tbody td { padding: 1mm 2mm !important; }
                </style>
            </xpath>
        </field>
    </record>
    
</odoo>
